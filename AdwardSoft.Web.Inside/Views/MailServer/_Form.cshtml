@model AdwardSoft.Web.Inside.Models.MailServerViewModel
@{
    var action = Model.IsNew ? "Create" : "Update";
}

<form class="form-validate-jquery form-content" asp-controller="MailServer" asp-action="@action" id="_FormView" callbackfn="MailServerSuccess()" method="post">
    <div class="modal-header">
        @if (Model.IsNew)
        {
            <h5 class="modal-title">Thêm mới </h5>
        }
        else
        {
            <h5 class="modal-title">Điều chỉnh</h5>
            <input type="hidden" value="@Model.Id" asp-for="@Model.Id" />
        }

    </div>
    <div class="modal-body row">
        <div class="form-group col-md-12">
            <label asp-for="Email" class="clear-fix font-weight-semibold ads-control"></label>
            <input type="text" asp-for="@Model.Email" value="@Model.Email" class="form-control" />
            <span asp-validation-for="@Model.Email" class="validation-invalid-label"></span>
        </div>
        <div class="form-group col-md-12">
            <label asp-for="Name" class="clear-fix font-weight-semibold ads-control"></label>
            <input type="text" asp-for="@Model.Name" value="@Model.Name" class="form-control" />
            <span asp-validation-for="@Model.Name" class="validation-invalid-label"></span>
        </div>
        <div class="form-group col-md-12">
            <label asp-for="Pwd" class="clear-fix font-weight-semibold ads-control"></label>
            <input type="password" asp-for="@Model.Pwd" value="@Model.Pwd" class="form-control" />
            <span asp-validation-for="@Model.Pwd" class="validation-invalid-label"></span>
        </div>
        <div class="form-group col-md-12">
            <label asp-for="SMTP" class="clear-fix font-weight-semibold ads-control"></label>
            <input type="text" asp-for="@Model.SMTP" value="@Model.SMTP" class="form-control" />
            <span asp-validation-for="@Model.SMTP" class="validation-invalid-label"></span>
        </div>
        <div class="form-group col-md-12">
            <label asp-for="Port" class="clear-fix font-weight-semibold ads-control"></label>
            <input type="text" asp-for="@Model.Port" value="@Model.Port" class="form-control format-number" />
            <span asp-validation-for="@Model.Port" class="validation-invalid-label"></span>
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@Model.IsSSL" class="clear-fix font-weight-semibold"></label>
            <div class="form-check form-check-switch form-check-switch-left">
                <label class="form-check-label d-flex align-items-center">
                    <input 
                        asp-for="@Model.IsSSL" 
                        type="checkbox" 
                        data-off-color="danger" 
                        data-on-text="True" 
                        data-off-text="False" 
                        class="form-check-input-switchery form-control"
                    >
                </label>
            </div>
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@Model.IsDefaultCredential" class="clear-fix font-weight-semibold"></label>
            <div class="form-check form-check-switch form-check-switch-left">
                <label class="form-check-label d-flex align-items-center">
                    <input 
                        asp-for="@Model.IsDefaultCredential" 
                        type="checkbox" 
                        data-off-color="danger" 
                        data-on-text="True" 
                        data-off-text="False" 
                        class="form-check-input-switchery form-control"
                    >
                </label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#" onclick="ReadById(0)" class="btn btn-light ml-1 btn-sm">Hủy bỏ <i class="fas fa-times mr-1"></i></a>
        @if (Model.IsNew)
        {
            <button 
                type="button" 
                class="btn btn-success ml-1 btn-sm mr-0"
                id="btn_FormView"
                onclick="Submit('@action', @Model.Id)">
                Thêm mới  <i class="fa fa-check ml-1"></i>
            </button>
        }
        else
        {
            <button 
                type="button"               
                class="btn btn-success ml-1 btn-sm mr-0"
                id="btn_FormView"
                onclick="Submit('@action', @Model.Id)">
            >
                Cập nhật  <i class="fa fa-check ml-1"></i>
            </button>
        }

    </div>
</form>

<script>
    // Javascripts not working in partial view
    var elems = Array.prototype.slice.call(document.querySelectorAll('.form-check-input-switchery'))

    elems.forEach(function (html) {
        var switchery = new Switchery(html)
    })
</script>
